function r(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=Array(t);e<t;e++)n[e]=r[e];return n}function t(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var e=document.querySelector(".start"),n=document.querySelector(".message-start"),o=document.querySelector(".message-lose"),a=document.querySelector(".message-win"),i=document.querySelector(".game-score"),c=document.querySelector("tbody"),s=0,f=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];function u(){if(l()){var r=Math.floor(4*Math.random()),t=Math.floor(4*Math.random());0===f[r][t]?(f[r][t]=.9>Math.random()?2:4,d()):u()}}function l(){for(var r=0;r<4;r++)for(var t=0;t<4;t++)if(0===f[r][t])return!0;return!1}function d(){for(var r=0;r<4;r++)for(var t=0;t<4;t++){var e=c.children[r].children[t],n=f[r][t];e.textContent="",e.classList.value="",e.classList.add("field-cell"),n>0&&(e.classList.add("field-cell--".concat(n)),e.textContent=n)}}function v(r){for(var t=r.filter(function(r){return 0!==r}),e=0;e<t.length-1;e++)t[e]===t[e+1]&&(t[e]*=2,t[e+1]=0,s+=t[e]);for(t=t.filter(function(r){return 0!==r});t.length<4;)t.push(0);return t}e.addEventListener("click",function(){e.classList.remove("start"),e.classList.add("restart"),e.textContent="Restart",n.classList.add("hidden"),o.classList.add("hidden"),a.classList.add("hidden"),s=0,i.textContent=s,f.forEach(function(r){return r.splice(0,4,0,0,0,0)}),u(),u()}),document.addEventListener("keydown",function(r){switch(r.key){case"ArrowLeft":(function(){for(var r=0;r<4;r++){var t=v(f[r]);f[r]=t,d()}})();break;case"ArrowRight":(function(){for(var r=0;r<4;r++){var e=v(t(f[r]).reverse());f[r]=e.reverse(),d()}})();break;case"ArrowUp":(function(){for(var r=0;r<4;r++){var t=v([f[0][r],f[1][r],f[2][r],f[3][r]]);f[0][r]=t[0],f[1][r]=t[1],f[2][r]=t[2],f[3][r]=t[3],d()}})();break;case"ArrowDown":(function(){for(var r=0;r<4;r++){var e=v(t([f[0][r],f[1][r],f[2][r],f[3][r]]).reverse());e.reverse(),f[0][r]=e[0],f[1][r]=e[1],f[2][r]=e[2],f[3][r]=e[3],d()}})()}i.textContent=s,function(){if(!l()){for(var r=0;r<3;r++)for(var t=0;t<3;t++)if(f[r][t]===f[r][t+1]||f[r][t]===f[r+1][t])return;o.classList.remove("hidden")}}(),function(){for(var r=0;r<4;r++)for(var t=0;t<4;t++)2048===f[r][t]&&a.classList.remove("hidden")}(),u()});
//# sourceMappingURL=index.ee1b44f1.js.map
